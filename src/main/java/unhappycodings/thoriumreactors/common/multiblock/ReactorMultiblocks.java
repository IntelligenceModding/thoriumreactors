package unhappycodings.thoriumreactors.common.multiblock;

import net.minecraft.world.level.block.Block;
import net.minecraft.world.level.block.Blocks;
import unhappycodings.thoriumreactors.common.registration.ModBlocks;

import java.util.List;

public class ReactorMultiblocks {

    private static final List<Block> REACTOR_5x5x6 = List.of(
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_ROD_CONTROLLER.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),

            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, Blocks.AIR, Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, ModBlocks.REACTOR_GRAPHITE_MODERATOR.get(), Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, Blocks.AIR, Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_CASING.get(),

            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, Blocks.AIR, Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, ModBlocks.REACTOR_GRAPHITE_MODERATOR.get(), Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, Blocks.AIR, Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_CASING.get(),

            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, Blocks.AIR, Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, ModBlocks.REACTOR_GRAPHITE_MODERATOR.get(), Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, Blocks.AIR, Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_CASING.get(),

            ModBlocks.REACTOR_CASING.get(), Blocks.BARRIER, Blocks.BARRIER, Blocks.BARRIER, ModBlocks.REACTOR_CASING.get(),
            Blocks.BARRIER, Blocks.AIR, Blocks.AIR, Blocks.AIR, Blocks.BARRIER,
            Blocks.BARRIER, Blocks.AIR, ModBlocks.REACTOR_CORE.get(), Blocks.AIR, Blocks.BARRIER,
            Blocks.BARRIER, Blocks.AIR, Blocks.AIR, Blocks.AIR, Blocks.BARRIER,
            ModBlocks.REACTOR_CASING.get(), Blocks.BARRIER, Blocks.BARRIER, Blocks.BARRIER, ModBlocks.REACTOR_CASING.get(),

            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get()
    );

    private static final List<Block> REACTOR_5x5x5 = List.of(
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_ROD_CONTROLLER.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),

            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, Blocks.AIR, Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, ModBlocks.REACTOR_GRAPHITE_MODERATOR.get(), Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, Blocks.AIR, Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_CASING.get(),

            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, Blocks.AIR, Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, ModBlocks.REACTOR_GRAPHITE_MODERATOR.get(), Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, Blocks.AIR, Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_CASING.get(),

            ModBlocks.REACTOR_CASING.get(), Blocks.BARRIER, Blocks.BARRIER, Blocks.BARRIER, ModBlocks.REACTOR_CASING.get(),
            Blocks.BARRIER, Blocks.AIR, Blocks.AIR, Blocks.AIR, Blocks.BARRIER,
            Blocks.BARRIER, Blocks.AIR, ModBlocks.REACTOR_CORE.get(), Blocks.AIR, Blocks.BARRIER,
            Blocks.BARRIER, Blocks.AIR, Blocks.AIR, Blocks.AIR, Blocks.BARRIER,
            ModBlocks.REACTOR_CASING.get(), Blocks.BARRIER, Blocks.BARRIER, Blocks.BARRIER, ModBlocks.REACTOR_CASING.get(),

            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get()
    );

    private static final List<Block> REACTOR_5x5x4 = List.of(
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_ROD_CONTROLLER.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),

            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, Blocks.AIR, Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, ModBlocks.REACTOR_GRAPHITE_MODERATOR.get(), Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_GLASS.get(), Blocks.AIR, Blocks.AIR, Blocks.AIR, ModBlocks.REACTOR_GLASS.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_GLASS.get(), ModBlocks.REACTOR_CASING.get(),

            ModBlocks.REACTOR_CASING.get(), Blocks.BARRIER, Blocks.BARRIER, Blocks.BARRIER, ModBlocks.REACTOR_CASING.get(),
            Blocks.BARRIER, Blocks.AIR, Blocks.AIR, Blocks.AIR, Blocks.BARRIER,
            Blocks.BARRIER, Blocks.AIR, ModBlocks.REACTOR_CORE.get(), Blocks.AIR, Blocks.BARRIER,
            Blocks.BARRIER, Blocks.AIR, Blocks.AIR, Blocks.AIR, Blocks.BARRIER,
            ModBlocks.REACTOR_CASING.get(), Blocks.BARRIER, Blocks.BARRIER, Blocks.BARRIER, ModBlocks.REACTOR_CASING.get(),

            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(),
            ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get(), ModBlocks.REACTOR_CASING.get()
    );

    public static List<Block> getReactorFromHeight(int height) {
        return switch (height) {
            case 6 -> REACTOR_5x5x6;
            case 5 -> REACTOR_5x5x5;
            default -> REACTOR_5x5x4;
        };
    }

    public static boolean isReactor(List<Block> targetReactor, List<Block> reactorBlocks) {
        int valveCount = 0, controllerCount = 0;
        if (targetReactor.size() != reactorBlocks.size()) return false;
        for (int i = 0; i < targetReactor.size(); i++) {
            if ((targetReactor.get(i) == Blocks.BARRIER && isReactorWallPart(reactorBlocks.get(i)))) {
                if (reactorBlocks.get(i) == ModBlocks.REACTOR_VALVE.get()) valveCount++;
                if (reactorBlocks.get(i) == ModBlocks.REACTOR_CONTROLLER_BLOCK.get()) controllerCount++;
                continue;
            }
            if ((targetReactor.get(i) != reactorBlocks.get(i)))
                return false;
        }
        return valveCount == 4 && controllerCount == 1;
    }

    public static boolean isReactorWallPart(Block block) {
        return block == ModBlocks.REACTOR_CASING.get() || block == ModBlocks.REACTOR_GLASS.get() || block == ModBlocks.REACTOR_VALVE.get() || block == ModBlocks.REACTOR_CONTROLLER_BLOCK.get();
    }

}
